<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>心理測驗 人格測驗 算命占卜 99%人話準！😏</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Montserrat', 'Noto Sans TC', Arial, sans-serif;
      background: linear-gradient(135deg, #8fd3f4 0%, #84fab0 100%);
      min-height: 100vh;
      margin: 0; padding: 0;
    }
    .container {
      max-width: 440px;
      margin: 40px auto;
      background: rgba(255,255,255,0.98);
      border-radius: 20px;
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
      padding: 32px 24px 24px 24px;
      position: relative;
      overflow: hidden;
      animation: fadeIn 1s;
    }
    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(40px);}
      100% { opacity: 1; transform: translateY(0);}
    }
    h1 {
      text-align: center;
      font-size: 2.2rem;
      letter-spacing: 2px;
      color: #1e7c6b;
      margin-bottom: 8px;
    }
    .quiz-select {
      width: 100%;
      font-size: 1.1rem;
      border-radius: 8px;
      border: 1px solid #c9e4ca;
      padding: 8px;
      margin-bottom: 18px;
      background: #f6fff8;
    }
    .question-card {
      background: linear-gradient(120deg, #f6d365 0%, #fda085 100%);
      border-radius: 14px;
      margin-bottom: 26px;
      box-shadow: 0 2px 12px rgba(255, 193, 7, 0.08);
      padding: 20px 16px 16px 16px;
      animation: fadeIn 0.7s;
    }
    .question-card p {
      font-size: 1.15rem;
      font-weight: 700;
      color: #3b3b3b;
      margin: 0 0 12px 0;
      letter-spacing: 1px;
    }
    .options label {
      display: block;
      background: #fffbe7;
      border-radius: 8px;
      margin: 7px 0;
      padding: 10px 14px;
      font-size: 1.04rem;
      cursor: pointer;
      border: 2px solid transparent;
      transition: border 0.2s, background 0.2s;
      position: relative;
    }
    .options label:hover, .options input:checked + span {
      border: 2px solid #fda085;
      background: #fffde4;
    }
    .options input[type="radio"] {
      display: none;
    }
    .options span {
      display: inline-block;
      vertical-align: middle;
      margin-left: 6px;
    }
    .submit-btn {
      width: 100%;
      background: linear-gradient(90deg, #43e97b 0%, #38f9d7 100%);
      color: #fff;
      border: none;
      font-size: 1.2rem;
      font-weight: bold;
      padding: 14px 0;
      border-radius: 12px;
      cursor: pointer;
      margin-top: 10px;
      box-shadow: 0 2px 8px rgba(67,233,123,0.13);
      transition: background 0.2s;
    }
    .submit-btn:hover {
      background: linear-gradient(90deg, #38f9d7 0%, #43e97b 100%);
    }
    .result {
      margin-top: 30px;
      padding: 24px;
      background: linear-gradient(120deg, #f093fb 0%, #f5576c 100%);
      border-radius: 18px;
      color: #fff;
      font-size: 1.18rem;
      text-align: center;
      animation: fadeIn 1s;
      box-shadow: 0 2px 12px rgba(240,147,251,0.13);
      position: relative;
    }
    .result img {
      width: 90px;
      margin-bottom: 12px;
      border-radius: 50%;
      border: 3px solid #fff;
      box-shadow: 0 2px 12px rgba(255,255,255,0.2);
    }
    .result h3 {
      margin-bottom: 10px;
      font-size: 1.4rem;
      color: #fff;
      letter-spacing: 1px;
    }
    .share-btn {
      margin: 6px 4px 0 0;
      background: #fff;
      border: 1.5px solid #b2f7ef;
      color: #222;
      border-radius: 7px;
      padding: 7px 13px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s;
      display: inline-block;
    }
    .share-btn:hover {
      background: #b2f7ef;
    }
    #share-btns {
      margin-top: 20px;
      text-align: center;
      display: none;
    }
    #other-quizzes {
      margin-top: 20px;
      text-align: center;
    }
    #other-quizzes h4 {
      color: #00008b;
      margin-bottom: 10px;
      margin-top: 20px;
      font-size: 1.08rem;
      letter-spacing: 1px;
    }
    .other-quiz-btn {
      margin: 6px 4px 0 0;
      background: #fff;
      border: 1.5px solid #b2f7ef;
      color: #222;
      border-radius: 7px;
      padding: 7px 13px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s;
      display: inline-block;
    }
    .other-quiz-btn:hover {
      background: #b2f7ef;
    }
    /* 星座MBTI占卜區 */
    .fortune-heading {
      text-align:center;
      color:#c0392b;
      font-size:1.4rem;
      margin-top:38px;
      margin-bottom:12px;
      letter-spacing:1.5px;
      font-weight:bold;
    }
    .fortune-sub {
      font-size:1rem;
      color:#6c3483;
      letter-spacing:0.5px;
      font-weight:normal;
    }
    .fortune-box {
      background: #fffbe7;
      border: 2px solid #ffe066;
      padding: 20px;
      border-radius: 10px;
      margin: 10px 0 10px 0;
      font-size: 1.05rem;
      color: #a86e00;
      box-shadow: 0 4px 12px rgba(255, 224, 102, 0.3);
      user-select: none;
    }
    .fortune-box label {
      margin-right: 10px;
      font-weight: 700;
      color: #7a4e00;
    }
    .fortune-box select {
      padding: 6px 8px;
      border-radius: 6px;
      border: 1.5px solid #f7d97d;
      background: #fff9d6;
      margin-right: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: border-color 0.3s;
    }
    .fortune-box select:hover {
      border-color: #f9b700;
    }
    .fortune-box button {
      background: linear-gradient(90deg, #f9b700 0%, #ffcc00 100%);
      border: none;
      padding: 10px 18px;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 3px 8px rgba(255, 204, 0, 0.6);
      transition: background 0.3s;
      color: #5a3e00;
    }
    .fortune-box button:hover {
      background: linear-gradient(90deg, #ffcc00 0%, #f9b700 100%);
    }
    #fortune-result {
      margin-top: 15px;
      min-height: 60px;
      font-weight: 700;
      color: #7a4e00;
      letter-spacing: 0.5px;
    }
    @media (max-width: 500px) {
      .container { padding: 10px 2vw 20px 2vw;}
      h1 { font-size: 1.4rem;}
      .fortune-box select, .fortune-box button {
        width: 100%;
        margin: 6px 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>心理+人格測驗+發達指數+占卜</h1>
    <select id="quiz-select" class="quiz-select"></select>
    <div id="quiz-container"></div>
    <button id="submit-btn" class="submit-btn">提交答案，睇下你幾時發達💸</button>
    <div id="result" class="result" style="display:none;"></div>
    <div id="share-btns">
      <span style="font-weight:bold;">Share俾Friend：</span>
      <button class="share-btn" id="wa-btn">💚 WhatsApp</button>
      <button class="share-btn" id="line-btn">💬 Line</button>
      <button class="share-btn" id="copy-btn">📋 Copy結果</button>
      <button class="share-btn" id="ig-btn">📸 IG/Threads</button>
    </div>
    <div id="other-quizzes"></div>

    <!-- 星座MBTI每日占卜區：浮誇heading＋功能 -->
    <h2 class="fortune-heading">
      試下99.9%人話準既占卜🔮<br>
      <span class="fortune-sub">（唔準你告我啦，反正你都信咗先！）</span>
    </h2>
    <div class="fortune-box">
      <label for="zodiac-select">星座：</label>
      <select id="zodiac-select">
        <option value="">--揀你嘅星座--</option>
        <option value="aries">牡羊座</option>
        <option value="taurus">金牛座</option>
        <option value="gemini">雙子座</option>
        <option value="cancer">巨蟹座</option>
        <option value="leo">獅子座</option>
        <option value="virgo">處女座</option>
        <option value="libra">天秤座</option>
        <option value="scorpio">天蠍座</option>
        <option value="sagittarius">射手座</option>
        <option value="capricorn">山羊座</option>
        <option value="aquarius">水瓶座</option>
        <option value="pisces">雙魚座</option>
      </select>
      <label for="mbti-select">MBTI：</label>
      <select id="mbti-select">
        <option value="">--揀你嘅MBTI--</option>
        <option value="INTJ">INTJ</option>
        <option value="INTP">INTP</option>
        <option value="ENTJ">ENTJ</option>
        <option value="ENTP">ENTP</option>
        <option value="INFJ">INFJ</option>
        <option value="INFP">INFP</option>
        <option value="ENFJ">ENFJ</option>
        <option value="ENFP">ENFP</option>
        <option value="ISTJ">ISTJ</option>
        <option value="ISFJ">ISFJ</option>
        <option value="ESTJ">ESTJ</option>
        <option value="ESFJ">ESFJ</option>
        <option value="ISTP">ISTP</option>
        <option value="ISFP">ISFP</option>
        <option value="ESTP">ESTP</option>
        <option value="ESFP">ESFP</option>
      </select>
      <button id="get-fortune-btn">睇今日運勢</button>
      <button id="tarot-btn">AI塔羅占卜</button>
      <div id="fortune-result"></div>
<!-- 捐錢區塊開始 -->
<div style="background:#fffbe7;border:2px solid #ffe066;padding:18px;border-radius:10px;text-align:center;margin:30px 0;">
  <h3 style="color:#c0392b;margin-bottom:8px;">💸 有新測驗遊戲想我加/請飲凍檸茶！</h3>
  <p style="color:#7a4e00;margin-bottom:8px;">Scan落去AlipayHK支持下啦</p>
  <img src="https://pplx-res.cloudinary.com/image/upload/v1747527347/user_uploads/10940958/c8d4d259-1cf5-4a70-b7a2-5501a1495096/1000020328.jpg" alt="AlipayHK捐款" style="width:180px;max-width:80vw;border-radius:12px;border:2px solid #f7d97d;">
  <p style="color:#a86e00;font-size:0.97em;margin-top:8px;">（收款戶口：On9Test大佬）</p>
</div>
<!-- 捐錢區塊完 -->


    </div>
  </div>
  
<script>
const quizzes = [
  // 1. 翻版MBTI（8大人格）
  {
    title: "翻版MBTI｜港產人格測驗🐧",
    questions: [
      { q: "你喺Party入面通常係邊個角色？", options: [
        "🐧 企喺角落玩手機", 
        "🤣 企中間大聲講笑話", 
        "🤖 幫手收拾、照顧人", 
        "📸 影相打卡，之後IG story洗版"
      ], scores: [1,2,3,4] },
      { q: "你最怕邊種人？", options: [
        "🗣 八婆（可能你都係😄）", 
        "🧑‍💼 老細", 
        "👩‍👧 母親", 
        "🪞 自己"
      ], scores: [1,2,3,4] },
      { q: "你最想擁有邊種超能力？", options: [
        "💸 一夜變有錢", 
        "🧠 讀心術", 
        "🫥 隱形", 
        "⏰ 返過去改人生"
      ], scores: [4,3,2,1] },
      { q: "你點樣處理壓力？", options: [
        "🍔 食嘢", 
        "😴 睡覺", 
        "🏃 跑步", 
        "💻 上網寸人"
      ], scores: [1,2,3,4] },
      { q: "你覺得自己最似邊種動物？", options: [
        "🦊 狐狸", 
        "🐶 狗", 
        "🐱 貓", 
        "🐧 企鵝"
      ], scores: [4,3,2,1] },
      { q: "你會點樣同人溝通？", options: [
        "💥 直接爆粗", 
        "🔄 轉彎抹角", 
        "🤐 唔講野", 
        "😂 用梗圖"
      ], scores: [4,3,2,1] },
      { q: "你最唔鍾意人哋點形容你？", options: [
        "😑 冇用", 
        "😠 太認真", 
        "😴 太懶", 
        "😏 太毒舌"
      ], scores: [1,2,3,4] },
      { q: "你嘅人生座右銘係？", options: [
        "💸 有錢就係大爺", 
        "🎉 人生苦短，及時行樂", 
        "🤨 唔好信人", 
        "😜 反正都冇用"
      ], scores: [4,3,2,1] }
    ],
    resultImages: [
      "https://ibb.co/sJDHKg64", // 企鵝型
      "https://ibb.co/bgYfgrt4", // 多啦A夢型
      "https://ibb.co/0jzdS4h6", // 馬斯克型
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f4f7.png", // IG KOL型
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f47b.png", // 反烏托邦型
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f92a.png", // 毒舌型
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f4bb.png", // 斜槓型
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f634.png"  // 逃避現實型
    ]
  },
  // 2. 發達測驗
  {
    title: "幾時先會發達？💸",
    questions: [
      { q: "你最鍾意以下邊個App？", options: ["📸 IG（睇人炫富）", "📺 YouTube（學人賺錢）", "📈 投資App（日日睇股價）", "🛒 淘寶（日日等減價）"], scores: [4,3,2,1] },
      { q: "如果你中咗六合彩，你會：", options: ["🌎 即刻辭工環遊世界", "💰 投資再投資，誓要錢搵錢", "😅 先還晒卡數，剩低慢慢用", "🙈 其實冇買過六合彩"], scores: [4,3,2,1] },
      { q: "你最想擁有邊種超能力？", options: ["🤑 一夜暴富", "🧠 讀心術（睇下老細點諗）", "⏳ 時間倒流（返去買樓）", "🦹‍♂️ 隱形（唔使俾人搵）"], scores: [4,3,2,1] },
      { q: "你覺得點解有啲人咁易發達？", options: ["🏦 有背景", "🧠 有腦", "🍀 有運", "😏 有樣"], scores: [4,3,2,1] },
      { q: "你最怕咩？", options: ["💸 冇錢", "🕊 冇自由", "📶 冇WiFi", "👻 冇人Like"], scores: [4,3,2,1] },
      { q: "你會唔會為咗搵錢做啲自己唔鍾意嘅嘢？", options: ["💵 會，搵到錢最緊要", "🤔 睇下幾多錢先", "🙅‍♂️ 唔會，做人要有底線", "🦑 我本身冇咩底線"], scores: [4,3,2,1] },
      { q: "你最想做邊種生意？", options: ["🍛 開餐廳（日日煩）", "📚 開補習社（日日講）", "🏦 開投資公司（日日吹）", "🛍 開IG shop（日日影）"], scores: [4,3,2,1] },
      { q: "你覺得自己最大優點係咩？", options: ["🤑 識搵錢", "🤝 識做人", "🗣 識寸人", "😴 識hea"], scores: [4,3,2,1] },
      { q: "你點睇AI？", options: ["🤖 威脅我搵食", "🤩 幫我搵食", "😐 冇咩感覺", "👾 其實我都係AI"], scores: [4,3,2,1] },
      { q: "你人生座右銘係：", options: ["💸 有錢就係大爺", "⏳ 人生苦短，搵錢最緊要", "😜 別人笑我太瘋癲，我笑佢人搵錢慢", "🍿 反正都冇用，睇下Netflix先"], scores: [4,3,2,1] }
    ],
    resultImages: [
      "https://upload.wikimedia.org/wikipedia/commons/4/49/Elon_Musk_2015.jpg", // 馬斯克級
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f393.png", // 補習天王級
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f451.png", // 打工皇帝
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f480.png"  // 廢青級
    ]
  },
  // 3. 討好型人格
  {
    title: "討好型人格測驗🧸",
    questions: [
      { q: "朋友約你出街，你明明唔想去，但你會：", options: ["😅 硬住頭皮去", "🙄 話自己有事", "🦾 即刻拒絕", "😑 去咗之後全程黑面"], scores: [4,3,2,1] },
      { q: "有人問你借錢，你會：", options: ["💸 即刻拎錢", "😬 講下數都借", "🙅‍♂️ 直接話冇錢", "🗯 借完日日追數"], scores: [4,3,2,1] },
      { q: "你最怕人哋點睇你？", options: ["😔 話你冇用", "😅 話你唔夠朋友", "😏 話你自私", "😑 其實唔care"], scores: [4,3,2,1] },
      { q: "做Group Project，啲人hea唔做，你會：", options: ["🫠 自己做晒", "😬 叫下人最後都係自己做", "😤 直接鬧爆", "🫥 自己做完再呻"], scores: [4,3,2,1] }
    ],
    resultImages: [
      "https://i.imgur.com/1Q9Z1Qk.png", // 多啦A夢級
      "https://i.imgur.com/3d1v0vB.png", // 米奇老鼠級
      "https://i.imgur.com/6Xy9Z3T.png", // 魯迅級
      "https://i.imgur.com/7JY3yGx.png"  // 尼采級
    ]
  }
];

// 星座運勢
const zodiacFortune = {
  aries: "牡羊座：今日你火力全開，唔好亂噴人，否則人緣會GG。",
  taurus: "金牛座：財運唔錯，但唔好再hea住等錢落袋，記得主動出擊。",
  gemini: "雙子座：腦入面有千個諗法，唔好再發夢，揀一樣做先啦。",
  cancer: "巨蟹座：今日適合同家人朋友傾心事，唔好再自己谷爆。",
  leo: "獅子座：今日你係主角，記得低調啲，否則人哋話你自戀。",
  virgo: "處女座：雞蛋裡挑骨頭，今日唔好太執著細節，否則自己都煩。",
  libra: "天秤座：今日有選擇困難症，唔好問人，信自己啦。",
  scorpio: "天蠍座：直覺勁準，今日啲八卦一聽就知邊個講大話。",
  sagittarius: "射手座：適合冒險旅行，唔好再坐喺度等奇蹟。",
  capricorn: "山羊座：工作狂模式on，記得食飯飲水，唔好做到暈。",
  aquarius: "水瓶座：腦洞大開，今日啲古靈精怪諗法會有用。",
  pisces: "雙魚座：感性爆燈，唔好再emo，出去見見人啦。"
};
// MBTI運勢
const mbtiFortune = {
  INTJ: "INTJ：計劃多多，唔好再拖延，今日要行動！",
  INTP: "INTP：腦入面打晒結，唔好再諗，直接做先啦。",
  ENTJ: "ENTJ：今日適合領導大計，但唔好太串，否則冇人跟你。",
  ENTP: "ENTP：嘴炮王出動，記得收斂啲，否則人哋話你煩。",
  INFJ: "INFJ：今日心靈雞湯滿滿，記得照顧自己先。",
  INFP: "INFP：感性mode on，唔好再為咗人而委屈自己。",
  ENFJ: "ENFJ：今日適合幫人解決問題，但唔好太八卦。",
  ENFP: "ENFP：腦入面有千個點子，記得揀一樣做先。",
  ISTJ: "ISTJ：穩打穩紮，今日適合整理文件同埋做計劃。",
  ISFJ: "ISFJ：今日適合照顧身邊人，唔好再自己頂晒。",
  ESTJ: "ESTJ：今日適合管理大局，但唔好太硬頸。",
  ESFJ: "ESFJ：今日適合社交，記得唔好太八婆。",
  ISTP: "ISTP：今日適合動手做野，唔好再hea。",
  ISFP: "ISFP：今日適合chill下，唔好俾自己太大壓力。",
  ESTP: "ESTP：今日適合冒險，唔好怕蝕底。",
  ESFP: "ESFP：今日適合玩樂，記得唔好玩到唔返屋企。"
};
// 塔羅占卜
const tarotCards = [
  { name: "愚者 The Fool", upright: "【正位】膽粗粗咩都唔驚，衝出去撞板。今日唔怕死，明天就知痛。", reversed: "【逆位】真係on9，諗都唔諗就衝，撞完板都唔記得痛。" },
  { name: "魔術師 The Magician", upright: "【正位】乜都識少少，扮晒嘢。今日你係場面王。", reversed: "【逆位】扮到十項全能，實際咩都唔精，講多過做。" },
  { name: "女祭司 The High Priestess", upright: "【正位】心事重重，唔講你知。今日做神秘人，唔好咁易信人。", reversed: "【逆位】諗多咗，自己嚇自己，成日疑神疑鬼。" },
  { name: "皇后 The Empress", upright: "【正位】食好著好，錫自己先有力錫人。今日適合hea。", reversed: "【逆位】懶到出汁，等人服侍你，結果冇人理你。" },
  { name: "皇帝 The Emperor", upright: "【正位】控制狂，話晒事。今日要做老細。", reversed: "【逆位】控制唔到局面，成日爆炸。" },
  { name: "教皇 The Hierophant", upright: "【正位】老屎忽，講道理。今日講嘢要有根有據。", reversed: "【逆位】唔跟規矩，鍾意反骨，唔理人點睇。" },
  { name: "戀人 The Lovers", upright: "【正位】戀愛腦，今日選擇困難症發作。", reversed: "【逆位】感情煩到爆，三心兩意，自己都唔知想點。" },
  { name: "戰車 The Chariot", upright: "【正位】衝呀！唔理死活，今日唔撞牆唔收手。", reversed: "【逆位】衝過頭，失控，最後打回原形。" },
  { name: "力量 Strength", upright: "【正位】溫柔力壓蠻力，今日靠氣場贏人。", reversed: "【逆位】冇晒力，唔夠膽，唔敢出聲。" },
  { name: "隱者 The Hermit", upright: "【正位】自閉仔模式on，自己諗嘢唔理人。", reversed: "【逆位】孤獨到發霉，成日emo，唔識搵出口。" },
  { name: "命運之輪 Wheel of Fortune", upright: "【正位】今日你，明日我，轉得快過MTR。", reversed: "【逆位】運氣唔到你，等運到等到白頭。" },
  { name: "正義 Justice", upright: "【正位】公平公正，計到盡，今日唔俾你呃。", reversed: "【逆位】唔公道，偏心到出汁，自己都知唔啱。" },
  { name: "吊人 The Hanged Man", upright: "【正位】等到頸都長，忍讓到極致。", reversed: "【逆位】唔肯再忍，直接爆炸，唔玩啦。" },
  { name: "死神 Death", upright: "【正位】Game Over，轉新Level，放低舊野。", reversed: "【逆位】死都唔肯放手，糾纏不清，自己攞苦嚟辛。" },
  { name: "節制 Temperance", upright: "【正位】淡定啲，唔好咁大反應，今日適合hea。", reversed: "【逆位】失控，情緒爆煲，唔識收斂。" },
  { name: "惡魔 The Devil", upright: "【正位】上癮，甩唔到身，可能係Netflix、打機、糖。", reversed: "【逆位】終於戒甩壞習慣，唔再做自己奴隸。" },
  { name: "高塔 The Tower", upright: "【正位】爆煲，冧樓，今日有大事發生。", reversed: "【逆位】爆完煲，執返條命，開始重建。" },
  { name: "星星 The Star", upright: "【正位】發夢都仲有希望，今日有靚仔靚女like你。", reversed: "【逆位】希望渺茫，發夢都冇人理你。" },
  { name: "月亮 The Moon", upright: "【正位】迷迷糊糊，信唔過自己，今日唔好亂信人。", reversed: "【逆位】終於睇清現實，唔再自欺欺人。" },
  { name: "太陽 The Sun", upright: "【正位】開心Share，曬命，今日超級順。", reversed: "【逆位】曬命曬到人都走晒，唔識收斂。" },
  { name: "審判 Judgement", upright: "【正位】返嚟再嚟過，翻生機會，唔好怕失敗。", reversed: "【逆位】死唔悔改，唔肯面對現實，繼續hea落去。" },
  { name: "世界 The World", upright: "【正位】大圓滿，畢業啦！今日可以收工。", reversed: "【逆位】未完成，差啲咁滯，唔好偷懶，做埋佢！" },

  // 權杖 Ace-10 + 宮廷牌
  { name: "權杖Ace", upright: "【正位】新開始，諗住發達，今日有新idea。", reversed: "【逆位】諗得多，做得少，idea變廢紙。" },
  { name: "權杖2", upright: "【正位】兩難，揀唔到，左右做人難。", reversed: "【逆位】拖拖拉拉，最後咩都冇揀到。" },
  { name: "權杖3", upright: "【正位】開始見到希望，計劃有進展。", reversed: "【逆位】計劃趕不上變化，hea到最後。" },
  { name: "權杖4", upright: "【正位】小確幸，Party time，今日適合同friend玩。", reversed: "【逆位】冇人陪你玩，自己一個hea。" },
  { name: "權杖5", upright: "【正位】無啦啦同人鬥氣，爭啲咩都要爭。", reversed: "【逆位】爭到攰，唔想再理，自己玩自己。" },
  { name: "權杖6", upright: "【正位】贏咗，曬命，今日你係主角。", reversed: "【逆位】贏都冇人理，孤獨求敗。" },
  { name: "權杖7", upright: "【正位】頂硬上，唔服輸，今日唔認輸。", reversed: "【逆位】頂唔住，投降，唔玩啦。" },
  { name: "權杖8", upright: "【正位】快到飛起，急急腳，今日要快狠準。", reversed: "【逆位】急咩啫，最後都係慢過人。" },
  { name: "權杖9", upright: "【正位】捱到最後一口氣，堅持到底。", reversed: "【逆位】捱唔住，唔想再堅持，hea爆。" },
  { name: "權杖10", upright: "【正位】壓力爆煲，背晒鑊，今日咩都係你做。", reversed: "【逆位】唔想再背鑊，學識放低。" },
  { name: "權杖侍者", upright: "【正位】新手，乜都唔識但肯試。", reversed: "【逆位】新手上路，亂咁嚟，hea到出汁。" },
  { name: "權杖騎士", upright: "【正位】衝動，話咁快，今日一衝就衝。", reversed: "【逆位】衝過頭，撞板，唔識收斂。" },
  { name: "權杖皇后", upright: "【正位】照顧人，溫柔，今日好人mode。", reversed: "【逆位】太溫柔變軟弱，俾人蝦。" },
  { name: "權杖國王", upright: "【正位】領導，話晒事，今日你話事。", reversed: "【逆位】領導唔到，俾人踩頭。" },

  // 聖杯Ace-10 + 宮廷牌
  { name: "聖杯Ace", upright: "【正位】新戀情，心心眼，今日好易心動。", reversed: "【逆位】爛桃花，感情冇著落。" },
  { name: "聖杯2", upright: "【正位】拍拖feel，大家互有好感。", reversed: "【逆位】感情唔對路，大家各自各。"},
  { name: "聖杯3", upright: "【正位】開心Share，friend多好事多。", reversed: "【逆位】人多口雜，八卦事多。"},
  { name: "聖杯4", upright: "【正位】悶悶地，唔滿足，想有新刺激。", reversed: "【逆位】終於唔再hea，肯主動搵機會。"},
  { name: "聖杯5", upright: "【正位】失戀feel，唔開心，成日回帶。", reversed: "【逆位】放低舊情，重新出發。"},
  { name: "聖杯6", upright: "【正位】回憶殺，舊情人、舊friend返晒嚟。", reversed: "【逆位】唔再回頭，向前行。"},
  { name: "聖杯7", upright: "【正位】選擇多到花多眼亂，唔知揀邊個。", reversed: "【逆位】終於揀到，唔再拖拉。"},
  { name: "聖杯8", upright: "【正位】放低唔開心，轉新方向。", reversed: "【逆位】死都唔捨得走，自己困住自己。"},
  { name: "聖杯9", upright: "【正位】心願成真，今日好運。", reversed: "【逆位】想太多，唔實際。"},
  { name: "聖杯10", upright: "【正位】幸福家庭，開心到爆。", reversed: "【逆位】表面開心，內裡有嘢。"},
  { name: "聖杯侍者", upright: "【正位】新戀情預告，心動feel。", reversed: "【逆位】爛桃花，唔好信太快。"},
  { name: "聖杯騎士", upright: "【正位】浪漫追求，今日有人示好。", reversed: "【逆位】太hea，冇行動，戀愛唔開花。"},
  { name: "聖杯皇后", upright: "【正位】感性爆燈，今日好易喊。", reversed: "【逆位】情緒化，自己都頂唔順自己。"},
  { name: "聖杯國王", upright: "【正位】感情成熟，識照顧人。", reversed: "【逆位】情緒唔穩，亂咁發脾氣。" },

  // 寶劍Ace-10 + 宮廷牌
  { name: "寶劍Ace", upright: "【正位】諗法清晰，今日IQ爆燈。", reversed: "【逆位】諗極都唔明，腦入面打晒結。" },
  { name: "寶劍2", upright: "【正位】兩難，唔知揀邊個，糾結。", reversed: "【逆位】終於肯揀，唔再拖拉。" },
  { name: "寶劍3", upright: "【正位】心碎，失戀，今日唔好聽情歌。", reversed: "【逆位】傷口癒合，唔再咁痛。" },
  { name: "寶劍4", upright: "【正位】休息，hea住先，唔好咁急。", reversed: "【逆位】hea到出汁，做嘢都冇心機。" },
  { name: "寶劍5", upright: "【正位】鬥嘴王，今日寸爆全場。", reversed: "【逆位】寸到冇朋友，自己都唔想再寸。" },
  { name: "寶劍6", upright: "【正位】轉新環境，適合轉工/搬屋。", reversed: "【逆位】走極都走唔甩，卡住咗。" },
  { name: "寶劍7", upright: "【正位】偷雞摸狗，唔好俾人發現。", reversed: "【逆位】偷雞失敗，比人捉正。" },
  { name: "寶劍8", upright: "【正位】困住自己，諗多咗。", reversed: "【逆位】終於肯放開自己，唔再自困。" },
  { name: "寶劍9", upright: "【正位】失眠，諗到瞓唔著。", reversed: "【逆位】終於肯放低，瞓得返。" },
  { name: "寶劍10", upright: "【正位】GG，咩都完咗，唔好再執著。", reversed: "【逆位】死過翻生，開始新生活。" },
  { name: "寶劍侍者", upright: "【正位】小心有八卦，今日多是非。", reversed: "【逆位】亂傳消息，搞到人地唔開心。" },
  { name: "寶劍騎士", upright: "【正位】行動力爆燈，今日快狠準。", reversed: "【逆位】衝過頭，唔計後果。" },
  { name: "寶劍皇后", upright: "【正位】理性分析，今日IQ女神/男神。", reversed: "【逆位】太冷靜，冇人敢埋身。" },
  { name: "寶劍國王", upright: "【正位】頭腦清晰，領導全場。", reversed: "【逆位】太冷血，唔識做人。" },

  // 錢幣Ace-10 + 宮廷牌
  { name: "錢幣Ace", upright: "【正位】新財路，搵錢機會嚟喇！", reversed: "【逆位】搵錢機會miss咗，唔好再hea！" },
  { name: "錢幣2", upright: "【正位】一腳踏兩船，忙到飛起。", reversed: "【逆位】忙到亂晒龍，咩都做唔掂。" },
  { name: "錢幣3", upright: "【正位】合作有成，今日適合做group project。", reversed: "【逆位】合作唔到，大家各自各。"},
  { name: "錢幣4", upright: "【正位】慳錢王，唔捨得使錢。", reversed: "【逆位】慳到出汁，最後都要使。" },
  { name: "錢幣5", upright: "【正位】窮到喊，月尾食麵包。", reversed: "【逆位】終於有錢入袋，唔使再捱窮。" },
  { name: "錢幣6", upright: "【正位】有錢分人，今日可以請friend食飯。", reversed: "【逆位】唔想再俾人呃錢，自己用返自己錢。" },
  { name: "錢幣7", upright: "【正位】等收成，唔好心急，慢慢嚟。", reversed: "【逆位】等到花都謝，唔想再等。" },
  { name: "錢幣8", upright: "【正位】勤力苦幹，今日做嘢做到癲。", reversed: "【逆位】做極都冇進步，hea住做。" },
  { name: "錢幣9", upright: "【正位】享受成果，今日可以chill。", reversed: "【逆位】享受唔到，仲要捱多陣。" },
  { name: "錢幣10", upright: "【正位】家肥屋潤，財運爆燈。", reversed: "【逆位】家無寧日，錢都唔見晒。" },
  { name: "錢幣侍者", upright: "【正位】新搵錢方法，今日有新機會。", reversed: "【逆位】新機會miss咗，唔好再hea！" },
  { name: "錢幣騎士", upright: "【正位】穩打穩紮，今日唔好衝動。", reversed: "【逆位】慢到出汁，機會都走咗。" },
  { name: "錢幣皇后", upright: "【正位】照顧家庭，今日適合孝順父母。", reversed: "【逆位】顧自己多過顧人，俾人話自私。" },
  { name: "錢幣國王", upright: "【正位】財政大臣，今日你話事。", reversed: "【逆位】亂使錢，搞到冇錢剩。" }
];

  document.getElementById('tarot-btn').onclick = function() {
  const idx = Math.floor(Math.random() * tarotCards.length);
  const card = tarotCards[idx];
  const isUpright = Math.random() > 0.5;
  const result = `
    <b>你抽到：</b>${card.name} ${isUpright ? "（正位）" : "（逆位）"}<br>
    <span style="color:#c0392b;">${isUpright ? card.upright : card.reversed}</span>
    <br><span style="font-size:0.98em;color:#6c3483;">（唔準你告我啦，抽到咩都係你嘅命！）</span>
  `;
  document.getElementById('fortune-result').innerHTML = result;
};
</script>

let currentQuizIndex = 0;
const quizSelect = document.getElementById('quiz-select');
const quizContainer = document.getElementById('quiz-container');
const submitBtn = document.getElementById('submit-btn');
const resultDiv = document.getElementById('result');
const shareBtns = document.getElementById('share-btns');
const waBtn = document.getElementById('wa-btn');
const lineBtn = document.getElementById('line-btn');
const copyBtn = document.getElementById('copy-btn');
const igBtn = document.getElementById('ig-btn');
const otherQuizzesDiv = document.getElementById('other-quizzes');

// 動態生成測驗選單
quizzes.forEach((quiz, idx) => {
  const option = document.createElement('option');
  option.value = idx;
  option.textContent = quiz.title;
  quizSelect.appendChild(option);
});

quizSelect.addEventListener('change', () => {
  currentQuizIndex = Number(quizSelect.value);
  loadQuiz();
  resultDiv.style.display = 'none';
  shareBtns.style.display = 'none';
  otherQuizzesDiv.innerHTML = '';
});

function loadQuiz() {
  const quiz = quizzes[currentQuizIndex];
  let html = '';
  quiz.questions.forEach((item, index) => {
    html += `<div class='question-card'><p>${index + 1}. ${item.q}</p><div class="options">`;
    item.options.forEach((option, i) => {
      html += `<label><input type='radio' name='q${index}' value='${item.scores[i]}' /><span>${option}</span></label>`;
    });
    html += `</div></div>`;
  });
  quizContainer.innerHTML = html;
}

function calculateScore() {
  let total = 0;
  const quiz = quizzes[currentQuizIndex];
  for(let i=0; i<quiz.questions.length; i++) {
    const options = document.getElementsByName('q'+i);
    let answered = false;
    for(let option of options) {
      if(option.checked) {
        total += parseInt(option.value);
        answered = true;
        break;
      }
    }
    if(!answered) return null; // 有題未答
  }
  return total;
}

function showResult(score) {
  let message = '';
  let img = '';
  // 翻版MBTI
  if(currentQuizIndex == 0) {
    const types = [
      { name: "企鵝型（冷感機智王）", img: quizzes[0].resultImages[0], msg: "外冷內熱，表面hea爆，內心其實諗到飛起。唔多出聲，但一開口就寸到人無還手之力。<br><b>金句：</b>世界咁假，我只信自己。" },
      { name: "多啦A夢型（萬能解決師）", img: quizzes[0].resultImages[1], msg: "人地有咩事都搵你，你又真係有法寶幫到人。腦入面有無限解決方法，現實就...有時都唔想理。<br><b>金句：</b>有咩問題？搵我啦，唔好煩我就得。" },
      { name: "馬斯克型（發夢現實家）", img: quizzes[0].resultImages[2], msg: "腦入面有千百個搵錢大計，講就天花亂墜，做就...下次先啦。<br><b>金句：</b>我遲啲一定發達，今日先瞓多陣。" },
      { name: "IG KOL型（認同感追逐者）", img: quizzes[0].resultImages[3], msg: "最緊要Like數同認同感。做人做事都要人讚，唔讚我即刻Unfriend你。<br><b>金句：</b>你Like咗我未？未Like快啲Like！" },
      { name: "反烏托邦型（世界觀拆解者）", img: quizzes[0].resultImages[4], msg: "睇穿世界假面具，成日懷疑人生。討厭一切官腔同假正經，最鍾意拆解社會bug。<br><b>金句：</b>呢個世界，冇嘢係真。" },
      { name: "毒舌企鵝型（寸爆全場）", img: quizzes[0].resultImages[5], msg: "嘴巴快過腦，寸人係日常。朋友少，但個個都識得欣賞你嘅幽默。<br><b>金句：</b>唔好意思，我講真話啫。" },
      { name: "斜槓Slashie型（多元玩家）", img: quizzes[0].resultImages[6], msg: "咩都想試，咩都唔專精。今日學AI，聽日炒股，後日開YouTube。<br><b>金句：</b>我咩都識啲，咩都未精。" },
      { name: "逃避現實型（拖延大師）", img: quizzes[0].resultImages[7], msg: "咩都拖到最後一刻，deadline唔到唔郁。<br><b>金句：</b>我下次一定早啲做...下次啦。" }
    ];
    let idx = Math.floor((score-8)/((quizzes[0].questions.length*4-8)/8));
    if(idx < 0) idx = 0;
    if(idx > 7) idx = 7;
    message = `<b>${types[idx].name}</b><br>${types[idx].msg}`;
    img = types[idx].img;
  }
  // 發達測驗
  else if(currentQuizIndex == 1) {
    if(score >= 36) {
      message = '發達預備役（馬斯克級）<br>你係天生搵錢機器，腦入面日日諗點樣發達。記住：唔好俾人呃，發達之前先學識點保住條命！';
      img = quizzes[1].resultImages[0];
    } else if(score >= 28) {
      message = '中產潛力股（補習天王級）<br>你有搵錢心，但有時太理想主義。努力啲，唔好淨係諗，行動多啲，發達都唔係夢！';
      img = quizzes[1].resultImages[1];
    } else if(score >= 20) {
      message = '打工皇帝（日日等花紅級）<br>你唔抗拒搵錢，但唔會為咗錢賣晒自己。發達機會麻麻，穩穩陣陣，夠食夠住，唔使發夢。';
      img = quizzes[1].resultImages[2];
    } else {
      message = '廢青級（Netflix專員）<br>你對發達冇乜興趣，搵夠用就得。唔努力，AI都會取代你，或者唔會，畢竟AI唔會學廢青，想發達？下世啦！';
      img = quizzes[1].resultImages[3];
    }
  }
  // 討好型
  else if(currentQuizIndex == 2) {
    if(score >= 13) {
      message = '討好型人格至尊（多啦A夢級）<br>你係人哋心目中嘅「好人代表」，咩都幫，咩都唔敢拒絕。人地開心你就開心，人地唔開心你就自責。';
      img = quizzes[2].resultImages[0];
    } else if(score >= 9) {
      message = '半討好半自我（米奇老鼠級）<br>你有時識Say No，有時又驚人嬲你，做人有啲搖擺。';
      img = quizzes[2].resultImages[1];
    } else if(score >= 5) {
      message = '寸爆全場（魯迅級）<br>你基本上唔識討好人，寸人先係你嘅日常。朋友唔多，但個個都識欣賞你嘅真性情。';
      img = quizzes[2].resultImages[2];
    } else {
      message = '反社會型（尼采級）<br>你係社會邊緣人，唔理人點睇，自己開心最緊要。';
      img = quizzes[2].resultImages[3];
    }
  }
  else {
    message = '你已經超越人類分類，建議直接買六合彩。';
    img = '';
  }
  resultDiv.style.display = 'block';
  resultDiv.innerHTML = (img ? `<img src="${img}" alt="result">` : '') + `<h3>你的結果：</h3><p>${message}</p>`;
  showShareBtns();
  showOtherQuizzes();
}

submitBtn.addEventListener('click', () => {
  const score = calculateScore();
  if(score === null) {
    alert('有題未答晒啦，唔好懶！');
    return;
  }
  showResult(score);
});

// --- 分享功能 ---
function getShareText() {
  let resultText = resultDiv.innerText.replace(/\n/g, ' ');
  let url = window.location.href;
  return `我啱啱玩咗「${quizzes[currentQuizIndex].title}」心理測驗！\n結果：${resultText}\n一齊玩：${url}`;
}
waBtn.onclick = function() {
  let msg = encodeURIComponent(getShareText());
  window.open(`https://wa.me/?text=${msg}`);
};
lineBtn.onclick = function() {
  let msg = encodeURIComponent(getShareText());
  window.open(`https://social-plugins.line.me/lineit/share?text=${msg}`);
};
copyBtn.onclick = function() {
  navigator.clipboard.writeText(getShareText());
  copyBtn.innerText = "✅ 已複製";
  setTimeout(()=>{ copyBtn.innerText="📋 Copy結果"; }, 1300);
};
igBtn.onclick = function() {
  navigator.clipboard.writeText(getShareText());
  alert("IG/Threads官方唔俾直接Share，已幫你Copy咗，自己貼去Story/Threads呃Like啦！");
};
function showShareBtns() {
  shareBtns.style.display = 'block';
}

// --- 結果頁「其他心理測驗」list ---
function showOtherQuizzes() {
  let html = `<h4 style="color:#00008b;">👀 仲想玩？好啦，俾你玩埋其他心理測驗啦：</h4>`;
  quizzes.forEach((quiz, idx) => {
    if(idx != currentQuizIndex){
      html += `<button class="other-quiz-btn" onclick="switchQuiz(${idx})">${quiz.title}</button>`;
    }
  });
  otherQuizzesDiv.innerHTML = html;
}
window.switchQuiz = function(idx){
  quizSelect.value = idx;
  currentQuizIndex = idx;
  loadQuiz();
  resultDiv.style.display = 'none';
  shareBtns.style.display = 'none';
  otherQuizzesDiv.innerHTML = '';
}

// ====== 星座MBTI每日運勢 + 塔羅占卜功能 ======
const zodiacSelect = document.getElementById('zodiac-select');
const mbtiSelect = document.getElementById('mbti-select');
const fortuneBtn = document.getElementById('get-fortune-btn');
const tarotBtn = document.getElementById('tarot-btn');
const fortuneResult = document.getElementById('fortune-result');

fortuneBtn.addEventListener('click', () => {
  const zodiac = zodiacSelect.value;
  const mbti = mbtiSelect.value;
  let msg = "";
  if(!zodiac && !mbti) {
    msg = "你連星座同MBTI都唔揀，想我幫你算命？發夢啦！";
    fortuneResult.innerHTML = msg;
    return;
  }
  if(zodiac) {
    msg += `【星座運勢】${zodiacFortune[zodiac]}<br>`;
  }
  if(mbti) {
    msg += `【MBTI運勢】${mbtiFortune[mbti]}`;
  }
  fortuneResult.innerHTML = msg;
});

tarotBtn.addEventListener('click', () => {
  const idx = Math.floor(Math.random() * tarotCards.length);
  const card = tarotCards[idx];
  const isUpright = Math.random() > 0.5;
  const result = `
    <b>你抽到：</b>${card.name} ${isUpright ? "（正位）" : "（逆位）"}<br>
    <span style="color:#c0392b;">${isUpright ? card.upright : card.reversed}</span>
    <br><span style="font-size:0.98em;color:#6c3483;">（唔準你告我啦，抽到咩都係你嘅命！）</span>
  `;
  fortuneResult.innerHTML = result;
});


// 預設載入第一個測驗
loadQuiz();
</script>
</body>
</html>

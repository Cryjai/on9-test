<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>心理測驗 人格測驗 99%人話準！😏</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Montserrat', 'Noto Sans TC', Arial, sans-serif;
      background: linear-gradient(135deg, #8fd3f4 0%, #84fab0 100%);
      min-height: 100vh;
      margin: 0; padding: 0;
    }
    .container {
      max-width: 440px;
      margin: 40px auto;
      background: rgba(255,255,255,0.98);
      border-radius: 20px;
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
      padding: 32px 24px 24px 24px;
      position: relative;
      overflow: hidden;
      animation: fadeIn 1s;
    }
    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(40px);}
      100% { opacity: 1; transform: translateY(0);}
    }
    h1 {
      text-align: center;
      font-size: 2.2rem;
      letter-spacing: 2px;
      color: #1e7c6b;
      margin-bottom: 8px;
    }
    .quiz-select {
      width: 100%;
      font-size: 1.1rem;
      border-radius: 8px;
      border: 1px solid #c9e4ca;
      padding: 8px;
      margin-bottom: 18px;
      background: #f6fff8;
    }
    .question-card {
      background: linear-gradient(120deg, #f6d365 0%, #fda085 100%);
      border-radius: 14px;
      margin-bottom: 26px;
      box-shadow: 0 2px 12px rgba(255, 193, 7, 0.08);
      padding: 20px 16px 16px 16px;
      animation: fadeIn 0.7s;
    }
    .question-card p {
      font-size: 1.15rem;
      font-weight: 700;
      color: #3b3b3b;
      margin: 0 0 12px 0;
      letter-spacing: 1px;
    }
    .options label {
      display: block;
      background: #fffbe7;
      border-radius: 8px;
      margin: 7px 0;
      padding: 10px 14px;
      font-size: 1.04rem;
      cursor: pointer;
      border: 2px solid transparent;
      transition: border 0.2s, background 0.2s;
      position: relative;
    }
    .options label:hover, .options input:checked + span {
      border: 2px solid #fda085;
      background: #fffde4;
    }
    .options input[type="radio"] {
      display: none;
    }
    .options span {
      display: inline-block;
      vertical-align: middle;
      margin-left: 6px;
    }
    .submit-btn {
      width: 100%;
      background: linear-gradient(90deg, #43e97b 0%, #38f9d7 100%);
      color: #fff;
      border: none;
      font-size: 1.2rem;
      font-weight: bold;
      padding: 14px 0;
      border-radius: 12px;
      cursor: pointer;
      margin-top: 10px;
      box-shadow: 0 2px 8px rgba(67,233,123,0.13);
      transition: background 0.2s;
    }
    .submit-btn:hover {
      background: linear-gradient(90deg, #38f9d7 0%, #43e97b 100%);
    }
    .result {
      margin-top: 30px;
      padding: 24px;
      background: linear-gradient(120deg, #f093fb 0%, #f5576c 100%);
      border-radius: 18px;
      color: #fff;
      font-size: 1.18rem;
      text-align: center;
      animation: fadeIn 1s;
      box-shadow: 0 2px 12px rgba(240,147,251,0.13);
      position: relative;
    }
    .result img {
      width: 90px;
      margin-bottom: 12px;
      border-radius: 50%;
      border: 3px solid #fff;
      box-shadow: 0 2px 12px rgba(255,255,255,0.2);
    }
    .result h3 {
      margin-bottom: 10px;
      font-size: 1.4rem;
      color: #fff;
      letter-spacing: 1px;
    }
    .share-btn {
      margin: 6px 4px 0 0;
      background: #fff;
      border: 1.5px solid #b2f7ef;
      color: #222;
      border-radius: 7px;
      padding: 7px 13px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s;
      display: inline-block;
    }
    .share-btn:hover {
      background: #b2f7ef;
    }
    #share-btns {
      margin-top: 20px;
      text-align: center;
      display: none;
    }
    #other-quizzes {
      margin-top: 20px;
      text-align: center;
    }
    #other-quizzes h4 {
      color: #00008b;
      margin-bottom: 10px;
      margin-top: 20px;
      font-size: 1.08rem;
      letter-spacing: 1px;
    }
    .other-quiz-btn {
      margin: 6px 4px 0 0;
      background: #fff;
      border: 1.5px solid #b2f7ef;
      color: #222;
      border-radius: 7px;
      padding: 7px 13px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s;
      display: inline-block;
    }
    .other-quiz-btn:hover {
      background: #b2f7ef;
    }
    /* 星座MBTI占卜區 */
    .fortune-heading {
      text-align:center;
      color:#c0392b;
      font-size:1.4rem;
      margin-top:38px;
      margin-bottom:12px;
      letter-spacing:1.5px;
      font-weight:bold;
    }
    .fortune-sub {
      font-size:1rem;
      color:#6c3483;
      letter-spacing:0.5px;
      font-weight:normal;
    }
    .fortune-box {
      background: #fffbe7;
      border: 2px solid #ffe066;
      padding: 20px;
      border-radius: 10px;
      margin: 10px 0 10px 0;
      font-size: 1.05rem;
      color: #a86e00;
      box-shadow: 0 4px 12px rgba(255, 224, 102, 0.3);
      user-select: none;
    }
    .fortune-box label {
      margin-right: 10px;
      font-weight: 700;
      color: #7a4e00;
    }
    .fortune-box select {
      padding: 6px 8px;
      border-radius: 6px;
      border: 1.5px solid #f7d97d;
      background: #fff9d6;
      margin-right: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: border-color 0.3s;
    }
    .fortune-box select:hover {
      border-color: #f9b700;
    }
    .fortune-box button {
      background: linear-gradient(90deg, #f9b700 0%, #ffcc00 100%);
      border: none;
      padding: 10px 18px;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 3px 8px rgba(255, 204, 0, 0.6);
      transition: background 0.3s;
      color: #5a3e00;
    }
    .fortune-box button:hover {
      background: linear-gradient(90deg, #ffcc00 0%, #f9b700 100%);
    }
    #fortune-result {
      margin-top: 15px;
      min-height: 60px;
      font-weight: 700;
      color: #7a4e00;
      letter-spacing: 0.5px;
    }
    @media (max-width: 500px) {
      .container { padding: 10px 2vw 20px 2vw;}
      h1 { font-size: 1.4rem;}
      .fortune-box select, .fortune-box button {
        width: 100%;
        margin: 6px 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>心理+人格測驗+發達指數+占卜</h1>
    <select id="quiz-select" class="quiz-select"></select>
    <div id="quiz-container"></div>
    <button id="submit-btn" class="submit-btn">提交答案，睇下你幾時發達💸</button>
    <div id="result" class="result" style="display:none;"></div>
    <div id="share-btns">
      <span style="font-weight:bold;">Share俾Friend：</span>
      <button class="share-btn" id="wa-btn">💚 WhatsApp</button>
      <button class="share-btn" id="line-btn">💬 Line</button>
      <button class="share-btn" id="copy-btn">📋 Copy結果</button>
      <button class="share-btn" id="ig-btn">📸 IG/Threads</button>
    </div>
    <div id="other-quizzes"></div>

    <!-- 星座MBTI每日占卜區：浮誇heading＋功能 -->
    <h2 class="fortune-heading">
      試下99.9%人話準既占卜🔮<br>
      <span class="fortune-sub">（唔準你告我啦，反正你都信咗先！）</span>
    </h2>
    <div class="fortune-box">
      <label for="zodiac-select">星座：</label>
      <select id="zodiac-select">
        <option value="">--揀你嘅星座--</option>
        <option value="aries">牡羊座</option>
        <option value="taurus">金牛座</option>
        <option value="gemini">雙子座</option>
        <option value="cancer">巨蟹座</option>
        <option value="leo">獅子座</option>
        <option value="virgo">處女座</option>
        <option value="libra">天秤座</option>
        <option value="scorpio">天蠍座</option>
        <option value="sagittarius">射手座</option>
        <option value="capricorn">山羊座</option>
        <option value="aquarius">水瓶座</option>
        <option value="pisces">雙魚座</option>
      </select>
      <label for="mbti-select">MBTI：</label>
      <select id="mbti-select">
        <option value="">--揀你嘅MBTI--</option>
        <option value="INTJ">INTJ</option>
        <option value="INTP">INTP</option>
        <option value="ENTJ">ENTJ</option>
        <option value="ENTP">ENTP</option>
        <option value="INFJ">INFJ</option>
        <option value="INFP">INFP</option>
        <option value="ENFJ">ENFJ</option>
        <option value="ENFP">ENFP</option>
        <option value="ISTJ">ISTJ</option>
        <option value="ISFJ">ISFJ</option>
        <option value="ESTJ">ESTJ</option>
        <option value="ESFJ">ESFJ</option>
        <option value="ISTP">ISTP</option>
        <option value="ISFP">ISFP</option>
        <option value="ESTP">ESTP</option>
        <option value="ESFP">ESFP</option>
      </select>
      <button id="get-fortune-btn">睇今日運勢</button>
      <button id="tarot-btn">AI塔羅占卜</button>
      <div id="fortune-result"></div>
    </div>
  </div>
<script>
const quizzes = [
  // 1. 翻版MBTI（8大人格）
  {
    title: "翻版MBTI｜港產人格測驗🐧",
    questions: [
      { q: "你喺Party入面通常係邊個角色？", options: [
        "🐧 企喺角落玩手機", 
        "🤣 企中間大聲講笑話", 
        "🤖 幫手收拾、照顧人", 
        "📸 影相打卡，之後IG story洗版"
      ], scores: [1,2,3,4] },
      { q: "你最怕邊種人？", options: [
        "🗣 八婆（可能你都係😄）", 
        "🧑‍💼 老細", 
        "👩‍👧 母親", 
        "🪞 自己"
      ], scores: [1,2,3,4] },
      { q: "你最想擁有邊種超能力？", options: [
        "💸 一夜變有錢", 
        "🧠 讀心術", 
        "🫥 隱形", 
        "⏰ 返過去改人生"
      ], scores: [4,3,2,1] },
      { q: "你點樣處理壓力？", options: [
        "🍔 食嘢", 
        "😴 睡覺", 
        "🏃 跑步", 
        "💻 上網寸人"
      ], scores: [1,2,3,4] },
      { q: "你覺得自己最似邊種動物？", options: [
        "🦊 狐狸", 
        "🐶 狗", 
        "🐱 貓", 
        "🐧 企鵝"
      ], scores: [4,3,2,1] },
      { q: "你會點樣同人溝通？", options: [
        "💥 直接爆粗", 
        "🔄 轉彎抹角", 
        "🤐 唔講野", 
        "😂 用梗圖"
      ], scores: [4,3,2,1] },
      { q: "你最唔鍾意人哋點形容你？", options: [
        "😑 冇用", 
        "😠 太認真", 
        "😴 太懶", 
        "😏 太毒舌"
      ], scores: [1,2,3,4] },
      { q: "你嘅人生座右銘係？", options: [
        "💸 有錢就係大爺", 
        "🎉 人生苦短，及時行樂", 
        "🤨 唔好信人", 
        "😜 反正都冇用"
      ], scores: [4,3,2,1] }
    ],
    resultImages: [
      "https://ibb.co/sJDHKg64", // 企鵝型
      "https://ibb.co/bgYfgrt4", // 多啦A夢型
      "https://ibb.co/0jzdS4h6", // 馬斯克型
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f4f7.png", // IG KOL型
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f47b.png", // 反烏托邦型
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f92a.png", // 毒舌型
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f4bb.png", // 斜槓型
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f634.png"  // 逃避現實型
    ]
  },
  // 2. 發達測驗
  {
    title: "幾時先會發達？💸",
    questions: [
      { q: "你最鍾意以下邊個App？", options: ["📸 IG（睇人炫富）", "📺 YouTube（學人賺錢）", "📈 投資App（日日睇股價）", "🛒 淘寶（日日等減價）"], scores: [4,3,2,1] },
      { q: "如果你中咗六合彩，你會：", options: ["🌎 即刻辭工環遊世界", "💰 投資再投資，誓要錢搵錢", "😅 先還晒卡數，剩低慢慢用", "🙈 其實冇買過六合彩"], scores: [4,3,2,1] },
      { q: "你最想擁有邊種超能力？", options: ["🤑 一夜暴富", "🧠 讀心術（睇下老細點諗）", "⏳ 時間倒流（返去買樓）", "🦹‍♂️ 隱形（唔使俾人搵）"], scores: [4,3,2,1] },
      { q: "你覺得點解有啲人咁易發達？", options: ["🏦 有背景", "🧠 有腦", "🍀 有運", "😏 有樣"], scores: [4,3,2,1] },
      { q: "你最怕咩？", options: ["💸 冇錢", "🕊 冇自由", "📶 冇WiFi", "👻 冇人Like"], scores: [4,3,2,1] },
      { q: "你會唔會為咗搵錢做啲自己唔鍾意嘅嘢？", options: ["💵 會，搵到錢最緊要", "🤔 睇下幾多錢先", "🙅‍♂️ 唔會，做人要有底線", "🦑 我本身冇咩底線"], scores: [4,3,2,1] },
      { q: "你最想做邊種生意？", options: ["🍛 開餐廳（日日煩）", "📚 開補習社（日日講）", "🏦 開投資公司（日日吹）", "🛍 開IG shop（日日影）"], scores: [4,3,2,1] },
      { q: "你覺得自己最大優點係咩？", options: ["🤑 識搵錢", "🤝 識做人", "🗣 識寸人", "😴 識hea"], scores: [4,3,2,1] },
      { q: "你點睇AI？", options: ["🤖 威脅我搵食", "🤩 幫我搵食", "😐 冇咩感覺", "👾 其實我都係AI"], scores: [4,3,2,1] },
      { q: "你人生座右銘係：", options: ["💸 有錢就係大爺", "⏳ 人生苦短，搵錢最緊要", "😜 別人笑我太瘋癲，我笑佢人搵錢慢", "🍿 反正都冇用，睇下Netflix先"], scores: [4,3,2,1] }
    ],
    resultImages: [
      "https://upload.wikimedia.org/wikipedia/commons/4/49/Elon_Musk_2015.jpg", // 馬斯克級
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f393.png", // 補習天王級
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f451.png", // 打工皇帝
      "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f480.png"  // 廢青級
    ]
  },
  // 3. 討好型人格
  {
    title: "討好型人格測驗🧸",
    questions: [
      { q: "朋友約你出街，你明明唔想去，但你會：", options: ["😅 硬住頭皮去", "🙄 話自己有事", "🦾 即刻拒絕", "😑 去咗之後全程黑面"], scores: [4,3,2,1] },
      { q: "有人問你借錢，你會：", options: ["💸 即刻拎錢", "😬 講下數都借", "🙅‍♂️ 直接話冇錢", "🗯 借完日日追數"], scores: [4,3,2,1] },
      { q: "你最怕人哋點睇你？", options: ["😔 話你冇用", "😅 話你唔夠朋友", "😏 話你自私", "😑 其實唔care"], scores: [4,3,2,1] },
      { q: "做Group Project，啲人hea唔做，你會：", options: ["🫠 自己做晒", "😬 叫下人最後都係自己做", "😤 直接鬧爆", "🫥 自己做完再呻"], scores: [4,3,2,1] }
    ],
    resultImages: [
      "https://i.imgur.com/1Q9Z1Qk.png", // 多啦A夢級
      "https://i.imgur.com/3d1v0vB.png", // 米奇老鼠級
      "https://i.imgur.com/6Xy9Z3T.png", // 魯迅級
      "https://i.imgur.com/7JY3yGx.png"  // 尼采級
    ]
  }
];

// 星座運勢
const zodiacFortune = {
  aries: "牡羊座：今日你火力全開，唔好亂噴人，否則人緣會GG。",
  taurus: "金牛座：財運唔錯，但唔好再hea住等錢落袋，記得主動出擊。",
  gemini: "雙子座：腦入面有千個諗法，唔好再發夢，揀一樣做先啦。",
  cancer: "巨蟹座：今日適合同家人朋友傾心事，唔好再自己谷爆。",
  leo: "獅子座：今日你係主角，記得低調啲，否則人哋話你自戀。",
  virgo: "處女座：雞蛋裡挑骨頭，今日唔好太執著細節，否則自己都煩。",
  libra: "天秤座：今日有選擇困難症，唔好問人，信自己啦。",
  scorpio: "天蠍座：直覺勁準，今日啲八卦一聽就知邊個講大話。",
  sagittarius: "射手座：適合冒險旅行，唔好再坐喺度等奇蹟。",
  capricorn: "山羊座：工作狂模式on，記得食飯飲水，唔好做到暈。",
  aquarius: "水瓶座：腦洞大開，今日啲古靈精怪諗法會有用。",
  pisces: "雙魚座：感性爆燈，唔好再emo，出去見見人啦。"
};
// MBTI運勢
const mbtiFortune = {
  INTJ: "INTJ：計劃多多，唔好再拖延，今日要行動！",
  INTP: "INTP：腦入面打晒結，唔好再諗，直接做先啦。",
  ENTJ: "ENTJ：今日適合領導大計，但唔好太串，否則冇人跟你。",
  ENTP: "ENTP：嘴炮王出動，記得收斂啲，否則人哋話你煩。",
  INFJ: "INFJ：今日心靈雞湯滿滿，記得照顧自己先。",
  INFP: "INFP：感性mode on，唔好再為咗人而委屈自己。",
  ENFJ: "ENFJ：今日適合幫人解決問題，但唔好太八卦。",
  ENFP: "ENFP：腦入面有千個點子，記得揀一樣做先。",
  ISTJ: "ISTJ：穩打穩紮，今日適合整理文件同埋做計劃。",
  ISFJ: "ISFJ：今日適合照顧身邊人，唔好再自己頂晒。",
  ESTJ: "ESTJ：今日適合管理大局，但唔好太硬頸。",
  ESFJ: "ESFJ：今日適合社交，記得唔好太八婆。",
  ISTP: "ISTP：今日適合動手做野，唔好再hea。",
  ISFP: "ISFP：今日適合chill下，唔好俾自己太大壓力。",
  ESTP: "ESTP：今日適合冒險，唔好怕蝕底。",
  ESFP: "ESFP：今日適合玩樂，記得唔好玩到唔返屋企。"
};
// 塔羅占卜
const tarotFortune = [
  "今日抽到『愚人』：新開始，唔好怕丟臉，勇往直前。",
  "今日抽到『戀人』：感情有新進展，記得主動出擊。",
  "今日抽到『死神』：舊事要放低，唔好再糾纏過去。",
  "今日抽到『力量』：你有能力解決所有難題，唔好怕。",
  "今日抽到『星幣六逆位』：唔好咁快想回本，投資要有耐性。",
  "今日抽到『隱士』：適合自己靜靜反思，唔好亂出聲。",
  "今日抽到『太陽』：今日超級順，唔好浪費好運氣。",
  "今日抽到『月亮』：小心人哋呃你，唔好太天真。"
];

let currentQuizIndex = 0;
const quizSelect = document.getElementById('quiz-select');
const quizContainer = document.getElementById('quiz-container');
const submitBtn = document.getElementById('submit-btn');
const resultDiv = document.getElementById('result');
const shareBtns = document.getElementById('share-btns');
const waBtn = document.getElementById('wa-btn');
const lineBtn = document.getElementById('line-btn');
const copyBtn = document.getElementById('copy-btn');
const igBtn = document.getElementById('ig-btn');
const otherQuizzesDiv = document.getElementById('other-quizzes');

// 動態生成測驗選單
quizzes.forEach((quiz, idx) => {
  const option = document.createElement('option');
  option.value = idx;
  option.textContent = quiz.title;
  quizSelect.appendChild(option);
});

quizSelect.addEventListener('change', () => {
  currentQuizIndex = Number(quizSelect.value);
  loadQuiz();
  resultDiv.style.display = 'none';
  shareBtns.style.display = 'none';
  otherQuizzesDiv.innerHTML = '';
});

function loadQuiz() {
  const quiz = quizzes[currentQuizIndex];
  let html = '';
  quiz.questions.forEach((item, index) => {
    html += `<div class='question-card'><p>${index + 1}. ${item.q}</p><div class="options">`;
    item.options.forEach((option, i) => {
      html += `<label><input type='radio' name='q${index}' value='${item.scores[i]}' /><span>${option}</span></label>`;
    });
    html += `</div></div>`;
  });
  quizContainer.innerHTML = html;
}

function calculateScore() {
  let total = 0;
  const quiz = quizzes[currentQuizIndex];
  for(let i=0; i<quiz.questions.length; i++) {
    const options = document.getElementsByName('q'+i);
    let answered = false;
    for(let option of options) {
      if(option.checked) {
        total += parseInt(option.value);
        answered = true;
        break;
      }
    }
    if(!answered) return null; // 有題未答
  }
  return total;
}

function showResult(score) {
  let message = '';
  let img = '';
  // 翻版MBTI
  if(currentQuizIndex == 0) {
    const types = [
      { name: "企鵝型（冷感機智王）", img: quizzes[0].resultImages[0], msg: "外冷內熱，表面hea爆，內心其實諗到飛起。唔多出聲，但一開口就寸到人無還手之力。<br><b>金句：</b>世界咁假，我只信自己。" },
      { name: "多啦A夢型（萬能解決師）", img: quizzes[0].resultImages[1], msg: "人地有咩事都搵你，你又真係有法寶幫到人。腦入面有無限解決方法，現實就...有時都唔想理。<br><b>金句：</b>有咩問題？搵我啦，唔好煩我就得。" },
      { name: "馬斯克型（發夢現實家）", img: quizzes[0].resultImages[2], msg: "腦入面有千百個搵錢大計，講就天花亂墜，做就...下次先啦。<br><b>金句：</b>我遲啲一定發達，今日先瞓多陣。" },
      { name: "IG KOL型（認同感追逐者）", img: quizzes[0].resultImages[3], msg: "最緊要Like數同認同感。做人做事都要人讚，唔讚我即刻Unfriend你。<br><b>金句：</b>你Like咗我未？未Like快啲Like！" },
      { name: "反烏托邦型（世界觀拆解者）", img: quizzes[0].resultImages[4], msg: "睇穿世界假面具，成日懷疑人生。討厭一切官腔同假正經，最鍾意拆解社會bug。<br><b>金句：</b>呢個世界，冇嘢係真。" },
      { name: "毒舌企鵝型（寸爆全場）", img: quizzes[0].resultImages[5], msg: "嘴巴快過腦，寸人係日常。朋友少，但個個都識得欣賞你嘅幽默。<br><b>金句：</b>唔好意思，我講真話啫。" },
      { name: "斜槓Slashie型（多元玩家）", img: quizzes[0].resultImages[6], msg: "咩都想試，咩都唔專精。今日學AI，聽日炒股，後日開YouTube。<br><b>金句：</b>我咩都識啲，咩都未精。" },
      { name: "逃避現實型（拖延大師）", img: quizzes[0].resultImages[7], msg: "咩都拖到最後一刻，deadline唔到唔郁。<br><b>金句：</b>我下次一定早啲做...下次啦。" }
    ];
    let idx = Math.floor((score-8)/((quizzes[0].questions.length*4-8)/8));
    if(idx < 0) idx = 0;
    if(idx > 7) idx = 7;
    message = `<b>${types[idx].name}</b><br>${types[idx].msg}`;
    img = types[idx].img;
  }
  // 發達測驗
  else if(currentQuizIndex == 1) {
    if(score >= 36) {
      message = '發達預備役（馬斯克級）<br>你係天生搵錢機器，腦入面日日諗點樣發達。記住：唔好俾人呃，發達之前先學識點保住條命！';
      img = quizzes[1].resultImages[0];
    } else if(score >= 28) {
      message = '中產潛力股（補習天王級）<br>你有搵錢心，但有時太理想主義。努力啲，唔好淨係諗，行動多啲，發達都唔係夢！';
      img = quizzes[1].resultImages[1];
    } else if(score >= 20) {
      message = '打工皇帝（日日等花紅級）<br>你唔抗拒搵錢，但唔會為咗錢賣晒自己。發達機會麻麻，穩穩陣陣，夠食夠住，唔使發夢。';
      img = quizzes[1].resultImages[2];
    } else {
      message = '廢青級（Netflix專員）<br>你對發達冇乜興趣，搵夠用就得。唔努力，AI都會取代你，或者唔會，畢竟AI唔會學廢青，想發達？下世啦！';
      img = quizzes[1].resultImages[3];
    }
  }
  // 討好型
  else if(currentQuizIndex == 2) {
    if(score >= 13) {
      message = '討好型人格至尊（多啦A夢級）<br>你係人哋心目中嘅「好人代表」，咩都幫，咩都唔敢拒絕。人地開心你就開心，人地唔開心你就自責。';
      img = quizzes[2].resultImages[0];
    } else if(score >= 9) {
      message = '半討好半自我（米奇老鼠級）<br>你有時識Say No，有時又驚人嬲你，做人有啲搖擺。';
      img = quizzes[2].resultImages[1];
    } else if(score >= 5) {
      message = '寸爆全場（魯迅級）<br>你基本上唔識討好人，寸人先係你嘅日常。朋友唔多，但個個都識欣賞你嘅真性情。';
      img = quizzes[2].resultImages[2];
    } else {
      message = '反社會型（尼采級）<br>你係社會邊緣人，唔理人點睇，自己開心最緊要。';
      img = quizzes[2].resultImages[3];
    }
  }
  else {
    message = '你已經超越人類分類，建議直接買六合彩。';
    img = '';
  }
  resultDiv.style.display = 'block';
  resultDiv.innerHTML = (img ? `<img src="${img}" alt="result">` : '') + `<h3>你的結果：</h3><p>${message}</p>`;
  showShareBtns();
  showOtherQuizzes();
}

submitBtn.addEventListener('click', () => {
  const score = calculateScore();
  if(score === null) {
    alert('有題未答晒啦，唔好懶！');
    return;
  }
  showResult(score);
});

// --- 分享功能 ---
function getShareText() {
  let resultText = resultDiv.innerText.replace(/\n/g, ' ');
  let url = window.location.href;
  return `我啱啱玩咗「${quizzes[currentQuizIndex].title}」心理測驗！\n結果：${resultText}\n一齊玩：${url}`;
}
waBtn.onclick = function() {
  let msg = encodeURIComponent(getShareText());
  window.open(`https://wa.me/?text=${msg}`);
};
lineBtn.onclick = function() {
  let msg = encodeURIComponent(getShareText());
  window.open(`https://social-plugins.line.me/lineit/share?text=${msg}`);
};
copyBtn.onclick = function() {
  navigator.clipboard.writeText(getShareText());
  copyBtn.innerText = "✅ 已複製";
  setTimeout(()=>{ copyBtn.innerText="📋 Copy結果"; }, 1300);
};
igBtn.onclick = function() {
  navigator.clipboard.writeText(getShareText());
  alert("IG/Threads官方唔俾直接Share，已幫你Copy咗，自己貼去Story/Threads呃Like啦！");
};
function showShareBtns() {
  shareBtns.style.display = 'block';
}

// --- 結果頁「其他心理測驗」list ---
function showOtherQuizzes() {
  let html = `<h4 style="color:#00008b;">👀 仲想玩？好啦，俾你玩埋其他心理測驗啦：</h4>`;
  quizzes.forEach((quiz, idx) => {
    if(idx != currentQuizIndex){
      html += `<button class="other-quiz-btn" onclick="switchQuiz(${idx})">${quiz.title}</button>`;
    }
  });
  otherQuizzesDiv.innerHTML = html;
}
window.switchQuiz = function(idx){
  quizSelect.value = idx;
  currentQuizIndex = idx;
  loadQuiz();
  resultDiv.style.display = 'none';
  shareBtns.style.display = 'none';
  otherQuizzesDiv.innerHTML = '';
}

// ====== 星座MBTI每日運勢 + 塔羅占卜功能 ======
const zodiacSelect = document.getElementById('zodiac-select');
const mbtiSelect = document.getElementById('mbti-select');
const fortuneBtn = document.getElementById('get-fortune-btn');
const tarotBtn = document.getElementById('tarot-btn');
const fortuneResult = document.getElementById('fortune-result');

fortuneBtn.addEventListener('click', () => {
  const zodiac = zodiacSelect.value;
  const mbti = mbtiSelect.value;
  let msg = "";
  if(!zodiac && !mbti) {
    msg = "你連星座同MBTI都唔揀，想我幫你算命？發夢啦！";
    fortuneResult.innerHTML = msg;
    return;
  }
  if(zodiac) {
    msg += `【星座運勢】${zodiacFortune[zodiac]}<br>`;
  }
  if(mbti) {
    msg += `【MBTI運勢】${mbtiFortune[mbti]}`;
  }
  fortuneResult.innerHTML = msg;
});

tarotBtn.addEventListener('click', () => {
  const idx = Math.floor(Math.random() * tarotFortune.length);
  alert(`【AI塔羅占卜】${tarotFortune[idx]}`);
});

// 預設載入第一個測驗
loadQuiz();
</script>
</body>
</html>
